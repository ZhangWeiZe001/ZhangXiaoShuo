"use strict";(self["webpackChunkvue3_test"]=self["webpackChunkvue3_test"]||[]).push([[760],{760:function(e,t,r){r.r(t),r.d(t,{default:function(){return H}});var s=r(6252);const o={id:"main"};function n(e,t,r,n,a,u){const l=(0,s.up)("register"),d=(0,s.up)("Land");return(0,s.wg)(),(0,s.iD)("div",o,[e.cut?((0,s.wg)(),(0,s.j4)(l,{key:0,onSwitchover:n.switchover},null,8,["onSwitchover"])):(0,s.kq)("",!0),e.cut?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:1,onSwitchover:n.switchover},null,8,["onSwitchover"]))])}var a=r(2262),u=r(9963),l=r(3577);const d=e=>((0,s.dD)("data-v-50ff167e"),e=e(),(0,s.Cn)(),e),i={class:"box"},p=d((()=>(0,s._)("h2",null,"登录",-1))),c={class:"input-box"},w=d((()=>(0,s._)("p",null,"账号",-1))),v={class:"input-box"},_=d((()=>(0,s._)("p",null,"密码",-1))),h={key:0,id:"errTip"},m={class:"btn-box"},g=d((()=>(0,s._)("a",{href:"#"},"忘记密码",-1)));function f(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("div",i,[p,(0,s._)("div",c,[w,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.user=t)},null,512),[[u.nr,e.user]])]),(0,s._)("div",v,[_,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t)},null,512),[[u.nr,e.password]])]),e.err?((0,s.wg)(),(0,s.iD)("p",h,(0,l.zw)(e.err),1)):(0,s.kq)("",!0),(0,s._)("div",m,[g,(0,s._)("div",null,[(0,s._)("button",{alert:"确定登录",onClick:t[2]||(t[2]=(...t)=>e.register&&e.register(...t))},"登录"),(0,s._)("button",{onClick:t[3]||(t[3]=(...t)=>e.cut&&e.cut(...t))},"注册")])])])}var b=r(9669),k=r.n(b),y=r(3907),x=r(2201),S={name:"Register",setup(e,t){const r=(0,y.oR)(),s=(0,x.tv)();let o=(0,a.qj)({user:"",password:"",err:"",cut(){t.emit("switchover")},register(){if(!o.password||!o.user)return o.err="密码和账号不能为空";k()({method:"post",url:"http://127.0.0.1:5055/register",data:{user:o.user,password:o.password}}).then((e=>{e.data.padding?(r.commit("REGISTER",o.user),localStorage.setItem("userPending",!0),localStorage.setItem("userName",o.user),alert("登录成功,现返回主页面"),s.push("/")):o.err=e.data.err}))}});return{...(0,a.BK)(o)}}},I=r(3744);const R=(0,I.Z)(S,[["render",f],["__scopeId","data-v-50ff167e"]]);var C=R;const q=e=>((0,s.dD)("data-v-11749bc8"),e=e(),(0,s.Cn)(),e),D={class:"box"},j=q((()=>(0,s._)("h2",null,"注册页面",-1))),U={class:"input-box"},V=q((()=>(0,s._)("p",null,"账号",-1))),E={class:"input-box"},z=q((()=>(0,s._)("p",null,"密码",-1))),B={class:"input-box"},K=q((()=>(0,s._)("p",null,"二次密码",-1))),P={class:"btn-box"},T={key:0,style:{color:"red","font-size":"13px"}};function Z(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("div",D,[j,(0,s._)("div",U,[V,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.user=t)},null,512),[[u.nr,e.user]])]),(0,s._)("div",E,[z,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.onepassword=t)},null,512),[[u.nr,e.onepassword]])]),(0,s._)("div",B,[K,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.twopassword=t)},null,512),[[u.nr,e.twopassword]])]),(0,s._)("div",P,[(0,s._)("a",{href:"javascript:;",onClick:t[3]||(t[3]=(...e)=>o.cut&&o.cut(...e))},"返回登录"),e.error?((0,s.wg)(),(0,s.iD)("p",T,"错误原因:"+(0,l.zw)(e.error),1)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>o.land&&o.land(...e))},"注册")])])])}var G={name:"Register",setup(e,t){const r=(0,y.oR)(),s=(0,x.tv)();let o=(0,a.qj)({user:"",onepassword:"",twopassword:"",error:""});function n(){t.emit("switchover")}function u(){o.onepassword.length<6||o.twopassword.length<6?o.error="密码需要大于等于六位":o.onepassword==o.twopassword?new Promise(((e,t)=>{k()({method:"post",url:"http://127.0.0.1:5055/usertest",data:{user:o.user}}).then((t=>{t.data?e("成功"):o.error="该账号已经被注册"}))})).then((e=>{k()({method:"post",url:"http://127.0.0.1:5055/landUser",data:{user:o.user,password:o.onepassword}}).then((e=>{e.data?(r.commit("REGISTER",o.user),localStorage.setItem("userPending",!0),localStorage.setItem("userName",o.user),alert("注册成功,现返回主页面"),s.push("/")):alert("注册失败 请联系管理员")}))})):o.error="两次密码不相同"}return{...(0,a.BK)(o),cut:n,land:u}}};const L=(0,I.Z)(G,[["render",Z],["__scopeId","data-v-11749bc8"]]);var N=L,A={components:{Register:C,Land:N},setup(){let e=(0,a.qj)({cut:!0});function t(){e.cut=!e.cut}return{...(0,a.BK)(e),switchover:t}}};const F=(0,I.Z)(A,[["render",n],["__scopeId","data-v-2a08ce72"]]);var H=F}}]);
//# sourceMappingURL=760.cbf4a6ac.js.map