{"version":3,"file":"js/111.5b94e259.js","mappings":"gMACOA,GAAG,Q,GAODA,GAAG,c,iHAPVC,EAAAA,EAAAA,IAaM,MAbN,EAaM,WAXJC,EAAAA,EAAAA,IAAwCC,EAAA,sBAAd,GAAVC,EAAAA,eAWZ,SATJF,EAAAA,EAAAA,IAA8CG,EAAA,sBAAjB,GAAVD,EAAAA,eASf,SAPJF,EAAAA,EAAAA,IAAsCI,EAAA,sBAAb,GAAVF,EAAAA,eACfG,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHLA,EAAAA,EAAAA,GAA2C,UAAlCC,QAAK,eAAEJ,EAAAA,WAAU,IAAI,SAC9BG,EAAAA,EAAAA,GAA2C,UAAlCC,QAAK,eAAEJ,EAAAA,WAAU,IAAI,SAC9BG,EAAAA,EAAAA,GAA2C,UAAlCC,QAAK,eAAEJ,EAAAA,WAAU,IAAI,W,8ECV5BJ,GAAG,U,UACFO,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,WAAK,S,UACwCA,EAAAA,EAAAA,GAAI,qB,SACnCP,GAAG,e,WAA0B,S,UACXO,EAAAA,EAAAA,GAAI,qB,WAAA,U,sVAExCE,G,UAOKF,EAAAA,EAAAA,GAAI,qB,WAAA,W,UACsDA,EAAAA,EAAAA,GAAI,qB,UAAAA,EAAAA,EAAAA,GAAI,qB,WAAA,U,UACtEA,EAAAA,EAAAA,GAAI,qB,UAC4CA,EAAAA,EAAAA,GAAI,qB,0CAhB/DN,EAAAA,EAAAA,IAmBQ,MAnBR,EAmBQ,CAlBFS,EAkBE,YAjBEH,EAAAA,EAAAA,GAAiD,SAA1CI,KAAK,O,qCAAgBC,EAAAA,KAAIC,GAAGC,OAAI,eAAEF,EAAAA,SAAzC,iBAA4BA,EAAAA,QAAqBG,EAC5CH,EAAAA,cAAAA,EAAAA,EAAAA,OAATX,EAAAA,EAAAA,IAAmD,IAAnD,EAAuC,cAAvC,eAgBE,YAfEM,EAAAA,EAAAA,GAAoC,SAA7BI,KAAK,O,qCAAgBC,EAAAA,OAAMC,IAAlC,iBAA4BD,EAAAA,UAAQI,EAetC,YAdGT,EAAAA,EAAAA,GAQI,U,qCARaK,EAAAA,MAAKC,IAAtB,cAAiBD,EAAAA,SAQbK,EAMP,YALIV,EAAAA,EAAAA,GAA6D,SAAtDW,MAAA,gBAAoBP,KAAK,O,qCAAgBC,EAAAA,YAAWC,IAA3D,iBAAgDD,EAAAA,eAAaO,EAAIC,EAKrE,EAJGC,GAIH,SAHFd,EAAAA,EAAAA,GAAqD,YAA3CP,GAAG,W,qCAAoBY,EAAAA,QAAOC,IAAxC,iBAAiCD,EAAAA,WAAoBU,GACrDf,EAAAA,EAAAA,GAAiD,SAA1CI,KAAK,OAASY,SAAM,8BAAeX,EAAAA,MAAAA,EAAAA,QAAAA,IAAI,sBAA9C,UACAL,EAAAA,EAAAA,GAAwC,UAA/BC,QAAK,eAAEI,EAAAA,cAAa,O,wBAQrC,GACCY,KAAK,SACLC,QACG,IAAIC,GAASC,EAAAA,EAAAA,IAAS,CAEtBC,KAAK,GACLC,OAAO,GACPC,YAAY,GACZC,QAAQ,GACRC,MAAM,KACNC,SAAS,GACTC,KAAKC,aAAaC,QAAQ,YAE1BC,aAAY,EACZC,KAAKC,GACH,IAAIC,EAAMD,EAAME,OAAOC,MAAM,GAE7B,IAAIC,EAAS,IAAIC,WAEjBD,EAAOE,WAAWL,GAElBG,EAAOG,OAAS,WACdpB,EAAOO,SAAWU,EAAOI,MAC3B,CACD,EAEDC,OACEC,IAAM,CACJC,OAAO,OACPC,IAAI,oCACJC,KAAK,CAACxB,KAAKyB,KAAKzB,QACf0B,MACDC,IAEKA,EAAMH,KACPC,KAAKhB,aAAc,EAEnBgB,KAAKhB,aAAc,CACrB,GAGL,EAEDmB,YACE,GAAGH,KAAKhB,YACP,OAAOoB,MAAM,YAGdR,IAAM,CACJC,OAAO,OACPC,IAAI,kCACJC,KAAK,CAACA,KAAK1B,KACV4B,MACDC,IAASE,MAAM,QAAN,GAEb,IAED,MAAO,KACHC,EAAAA,EAAAA,IAAOhC,GAEb,G,UChFD,MAAMiC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,+ECRO3D,GAAG,a,UACNO,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,WAAK,U,wBAIbA,EAAAA,EAAAA,GAAI,qB,WAAA,S,UAEJA,EAAAA,EAAAA,GAAI,qB,UACJA,EAAAA,EAAAA,GAAI,qB,UACJA,EAAAA,EAAAA,GAAW,SAAR,QAAI,K,UAEPA,EAAAA,EAAAA,GAAI,qB,UACJA,EAAAA,EAAAA,GAAI,qB,+BAZoBK,EAAAA,KAAAA,EAAAA,EAAAA,OAA1BX,EAAAA,EAAAA,IAcM,MAdN,EAcM,CAbJS,EAaI,YAZCH,EAAAA,EAAAA,GAEI,U,qCAFaK,EAAAA,SAAQC,IAAzB,gBACDZ,EAAAA,EAAAA,IAA6F2D,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAAtEjD,EAAAA,SAARkD,K,WAAf7D,EAAAA,EAAAA,IAA6F,UAA7D8D,IAAI,OAAQvD,QAAK,GAAEI,EAAAA,UAAUkD,EAAKE,MAAlE,QAAyEF,EAAKlC,MAAI,EAAAb,MAAlF,OADC,YAAiBH,EAAAA,YAGtBqD,EASI,YARA1D,EAAAA,EAAAA,GAAqC,SAA9BI,KAAK,O,qCAAgBC,EAAAA,QAAOC,IAAnC,iBAA4BD,EAAAA,WAChCI,EACAkD,EACAzD,GAKI,SAJJF,EAAAA,EAAAA,GAAsD,YAA5CP,GAAG,W,qCAAoBY,EAAAA,SAAQC,IAAzC,iBAAiCD,EAAAA,YACjCuD,EACAC,GACA7D,EAAAA,EAAAA,GAA2C,UAAlCC,QAAK,eAAEI,EAAAA,cAAa,aAb/B,c,CAuBF,OACCY,KAAK,YACLC,QACC,IAAI4C,GAASC,EAAAA,EAAAA,IAAO,UAEnBrB,IAAM,CACLC,OAAO,OACPC,IAAI,kCACJC,KAAK,CAAClB,KAAKC,aAAaC,QAAQ,eAC/BkB,MACDC,IAEIgB,EAAUC,QAAWjB,EAAMH,KAC3BmB,EAAUE,IAAG,EACbxB,IAAM,CACJC,OAAO,OACPC,IAAI,iCACJC,KAAK,CAACoB,QAAQD,EAAUC,WACvBlB,MACDC,IACE,GAAyB,QAAtBA,EAAMH,KAAK,GAAGxB,WAA+B8C,GAAbnB,EAAMH,KAEvC,OADAmB,EAAUI,SAAWpB,EAAMH,KAAK,GAAGxB,KAC5B2C,EAAUC,QAAUjB,EAAMH,KAGnCmB,EAAUC,QAAUjB,EAAMH,KAC1BmB,EAAUI,SAAWJ,EAAUC,QAAQ,GAAG5C,KAC1C2C,EAAUK,OAASL,EAAUC,QAAQ,GAAGR,EACxC,GAdJ,IAoBL,IAAIO,GAAY5C,EAAAA,EAAAA,IAAS,CAExB6C,QAAQ,GAERG,SAAS,GACTF,IAAG,EAEHI,QAAQ,GAERC,SAAS,GAETF,OAAO,GAEPG,UAAU/E,GACRqD,KAAKuB,OAAS5E,CACf,EAEDuE,YAEE,MAAoB,IAAjBlB,KAAKyB,UAAgC,IAAfzB,KAAKwB,QACrBpB,MAAM,eACyB,GAA/BJ,KAAKwB,QAAQG,OAAO,OACpBvB,MAAM,gBACU,QAAhBJ,KAAKsB,SAA0BlB,MAAM,sBAC9CR,IAAM,CACJC,OAAO,OACPC,IAAI,kCACJC,KAAK,CACHY,GAAGX,KAAKuB,OACRC,QAAQxB,KAAKwB,QACbC,SAASzB,KAAKyB,YAEfxB,MACDC,IACEE,MAAMF,EAAMH,MAEZiB,GAAQ,GAGd,IAGA,MAAM,KACCX,EAAAA,EAAAA,IAAOa,GAEjB,GChGD,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,gFCPIhE,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,YAAK,U,2BAMN,S,+BAMA,Q,+BAOA,S,wVAGC4D,I,YAUD,U,+BAQA,U,8BAIH5D,EAAAA,EAAAA,GAAI,qB,2CA7CCK,EAAAA,KAAAA,EAAAA,EAAAA,OAAXX,EAAAA,EAAAA,IAoDM,MAAAgF,EAAA,CAnDJvE,EAmDI,IAlDCH,EAAAA,EAAAA,GAEI,8BADPN,EAAAA,EAAAA,IAAsF2D,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAA/DjD,EAAAA,SAARkD,K,WAAf7D,EAAAA,EAAAA,IAAsF,UAAtD8D,IAAI,OAAQvD,QAAK,GAAEI,EAAAA,MAAMkD,KAAzD,QAAkEA,EAAKlC,MAAI,EAAAb,OAA3E,SAGFR,EAAAA,EAAAA,GA6CM,aA5CJA,EAAAA,EAAAA,GAKM,eAJQK,EAAAA,SAAQ,KAAR,WAAZX,EAAAA,EAAAA,IAAmD,Q,mBAA1BiF,EAAAA,EAAAA,IAAQtE,EAAU,KAALgB,OAAtC,kCACA3B,EAAAA,EAAAA,IAA8C,S,MAAhCU,KAAK,O,qCAAgBC,EAAAA,KAAKgB,KAAIf,IAA5C,kBAAmCD,EAAAA,KAAKgB,QAC1BhB,EAAAA,SAAQ,KAAR,WAAdX,EAAAA,EAAAA,IAAsD,U,MAA1BO,QAAK,eAAEI,EAAAA,IAAG,KAAK,SAA3C,WACAX,EAAAA,EAAAA,IAA0C,U,MAA1BO,QAAK,eAAEI,EAAAA,IAAG,KAAK,UAEjCL,EAAAA,EAAAA,GAKM,eAJQK,EAAAA,SAAQ,KAAR,WAAZX,EAAAA,EAAAA,IAAqD,Q,mBAA5BiF,EAAAA,EAAAA,IAAQtE,EAAY,KAAPiB,SAAtC,kCACA5B,EAAAA,EAAAA,IAAgD,S,MAAlCU,KAAK,O,qCAAgBC,EAAAA,KAAKiB,OAAMhB,IAA9C,kBAAmCD,EAAAA,KAAKiB,UAC1BjB,EAAAA,SAAQ,KAAR,WAAdX,EAAAA,EAAAA,IAAsD,U,MAA1BO,QAAK,eAAEI,EAAAA,IAAG,KAAK,SAA3C,WACAX,EAAAA,EAAAA,IAA0C,U,MAA1BO,QAAK,eAAEI,EAAAA,IAAG,KAAK,UAGjCL,EAAAA,EAAAA,GAWM,yBATJA,EAAAA,EAAAA,GAQS,U,qCARQK,EAAAA,KAAKoB,MAAKnB,IAA3B,eAAiBD,EAAAA,KAAKoB,YAWxBzB,EAAAA,EAAAA,GAMM,eAJQK,EAAAA,SAAQ,KAAR,WAAZX,EAAAA,EAAAA,IAA0D,Q,mBAAjCiF,EAAAA,EAAAA,IAAQtE,EAAiB,KAAZkB,cAAtC,kCACA7B,EAAAA,EAAAA,IAA2E,S,MAA7DU,KAAK,OAAOO,MAAA,gB,qCAA+BN,EAAAA,KAAKkB,YAAWjB,IAAzE,kBAAyDD,EAAAA,KAAKkB,eAChDlB,EAAAA,SAAQ,KAAR,WAAdX,EAAAA,EAAAA,IAAsD,U,MAA1BO,QAAK,eAAEI,EAAAA,IAAG,KAAK,SAA3C,WACAX,EAAAA,EAAAA,IAA0C,U,MAA1BO,QAAK,eAAEI,EAAAA,IAAG,KAAK,UAGjCL,EAAAA,EAAAA,GAOM,eALkBK,EAAAA,SAAQ,KAAR,WAAtBX,EAAAA,EAAAA,IAA8D,K,MAA3DD,GAAG,U,aAA8BkF,EAAAA,EAAAA,IAAQtE,EAAa,KAARmB,UAAjD,kCACA9B,EAAAA,EAAAA,IAA4G,Y,MAA3FiB,MAAA,wD,uCAAkEN,EAAAA,KAAKmB,QAAOlB,IAA/F,kBAAmFD,EAAAA,KAAKmB,WACxFV,GACcT,EAAAA,SAAQ,KAAR,WAAdX,EAAAA,EAAAA,IAAsD,U,MAA1BO,QAAK,iBAAEI,EAAAA,IAAG,KAAK,SAA3C,WACAX,EAAAA,EAAAA,IAA0C,U,MAA1BO,QAAK,iBAAEI,EAAAA,IAAG,KAAK,UAEjCL,EAAAA,EAAAA,GAA2C,UAAlCC,QAAK,iBAAEI,EAAAA,eAAc,SAC9BL,EAAAA,EAAAA,GAAsD,UAA9CP,GAAG,OAAQQ,QAAK,iBAAEI,EAAAA,WAAU,oBAlDxC,WAqDAX,EAAAA,EAAAA,IAAwB,KAAAqB,GAAb,Y,CASb,QACAE,KAAK,QACLC,QACE,IAAI4C,GAASC,EAAAA,EAAAA,IAAO,UAEpBrB,IAAM,CACJC,OAAO,OACPC,IAAI,kCACJC,KAAK,CAAClB,KAAKC,aAAaC,QAAQ,eAC/BkB,MACDC,IAKIN,IAAM,CACJC,OAAO,OACPC,IAAI,iCACJC,KAAK,CAACoB,QAAQjB,EAAMH,QACnBE,MACDC,IACE,GAAyB,QAAtBA,EAAMH,KAAK,GAAGxB,KAEf,OADAuD,EAAMR,SAAWpB,EAAMH,KAAK,GAAGxB,KACxBuD,EAAMX,QAAUjB,EAAMH,KAG7B+B,EAAMR,SAAUpB,EAAMH,KAAK,GAAGxB,KAC9BuD,EAAMX,QAAUjB,EAAMH,KAEtB+B,EAAMC,KAAO7B,EAAMH,KAAK,GAE5B+B,EAAMV,IAAK,CAAX,GAhBF,IAsBN,IAAIU,GAAQxD,EAAAA,EAAAA,IAAS,CACnB6C,QAAQ,GACRG,SAAS,GACTS,UAAKV,EACLD,IAAI,EACJY,SAAS,EAAC,GAAK,GAAK,GAAK,GAAK,GAAK,GAEnCC,MAAMxB,GACJT,KAAK+B,KAAOtB,CACb,EAEDyB,IAAIC,GACFnC,KAAKgC,SAASG,IAAUnC,KAAKgC,SAASG,EACvC,EAEDC,SACCxC,IAAM,CACLC,OAAO,OACPC,IAAI,gCACJC,KAAK,CAACU,KAAKqB,EAAMC,QACf9B,MACFC,IAASE,MAAM,OAAN,GAEV,EAEDiC,aAEKC,QAAQ,wBAEZ1C,IAAM,CACLC,OAAO,OACPC,IAAI,mCACJC,KAAK,CAACY,GAAGX,KAAK+B,KAAKpB,MACjBV,MACFC,IACEE,MAAM,QAENY,GAAQ,GAGZ,IAGF,MAAO,KACFX,EAAAA,EAAAA,IAAOyB,GAEb,GC3ID,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UNeA,IACC3D,KAAK,SACLoE,WAAW,CAAClE,OAAD,EAAQ6C,UAAR,EAAmBY,MAAKA,IACnC1D,QACC,IAAIoE,GAAWC,EAAAA,EAAAA,IAAI,GAEnB,MAAO,CACLD,aAEF,GO1BF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASE,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://vue3_test/./src/components/myCenter/body/list/myBook/myBook.vue","webpack://vue3_test/./src/components/myCenter/body/list/myBook/upBook.vue","webpack://vue3_test/./src/components/myCenter/body/list/myBook/upBook.vue?7c7f","webpack://vue3_test/./src/components/myCenter/body/list/myBook/upChapter.vue","webpack://vue3_test/./src/components/myCenter/body/list/myBook/upChapter.vue?9f12","webpack://vue3_test/./src/components/myCenter/body/list/myBook/amend.vue","webpack://vue3_test/./src/components/myCenter/body/list/myBook/amend.vue?c761","webpack://vue3_test/./src/components/myCenter/body/list/myBook/myBook.vue?0612"],"sourcesContent":["<template>\r\n  <div id=\"main\">\r\n    <!-- 上传整本书籍 -->\r\n    <upBook v-show=\"switchover==1\"></upBook>\r\n    <!-- 上传章节 -->\r\n    <upChapter v-show=\"switchover==2\"></upChapter>\r\n    <!-- 修改书籍 -->\r\n    <amend v-show=\"switchover==3\"></amend>\r\n    <div id=\"switchover\">\r\n     <button @click=\"switchover=1\">上传书籍</button>\r\n     <button @click=\"switchover=2\">上传新章</button>\r\n     <button @click=\"switchover=3\">修改书籍</button>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//引入需要使用的配置\r\nimport {reactive,toRefs,ref} from 'vue';\r\n//引入需要使用的组件\r\nimport upBook from './upBook.vue'\r\nimport upChapter from './upChapter.vue'\r\nimport Amend from './amend.vue';\r\nexport default {\r\n name:'myBook',\r\n components:{upBook,upChapter, Amend},\r\n setup(){\r\n  let switchover=ref(1);\r\n\r\n  return {\r\n    switchover\r\n  }\r\n },\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  #main{\r\n    position:absolute;\r\n    margin-top: 25px;\r\n    height: 500px;\r\n    width: 600px;\r\n    left: 30%;\r\n    /* padding-left: 50px; */\r\n    border: 1px solid rgba(0, 0, 0, 0.3);\r\n    box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2)\r\n  }\r\n\r\n  h1{\r\n    text-align: center;\r\n  }\r\n\r\n  input[type=text],textarea{\r\n    margin-top: 15px;\r\n    border: 1px black solid;\r\n    font-size: 16px;\r\n  }\r\n\r\n  select{\r\n    margin-top: 15px;\r\n  }\r\n  #longJian{\r\n    margin-left: 5px;\r\n    width: 80%;\r\n    height: 100px;\r\n  }\r\n\r\n  #switchover{\r\n    margin-top: 15px;\r\n  }\r\n  #switchover>button{\r\n    margin-right:5px\r\n  }\r\n</style>","<template>\r\n  <div id=\"upBook\">\r\n        <h1>上传书籍</h1>\r\n        小说名:<input type=\"text\" v-model=\"Name\" @blur=\"blur()\"><br> \r\n        <p v-if=\"examineBook\" id=\"examineBook\">该书名已经被使用</p>\r\n        作者名:<input type=\"text\" v-model=\"Author\"><br>\r\n        书籍类型:<select v-model=\"Class\">\r\n            <option value=\"历史\">历史</option>\r\n            <option value=\"军事\">军事</option>\r\n            <option value=\"科幻\">科幻</option>\r\n            <option value=\"武侠\">武侠</option>\r\n            <option value=\"仙侠\">仙侠</option>\r\n            <option value=\"奇幻\">奇幻</option>\r\n            <option value=\"灵异\">灵异</option>\r\n        </select><br>\r\n        书籍短简介:<input style=\"width:300px\" type=\"text\" v-model=\"MiNiJianJie\"><br><br>\r\n        书籍简介:<br>\r\n        <textarea id=\"longJian\" v-model=\"JianJie\"></textarea><br>\r\n        <input type=\"file\"  @change.prevent.stop=\"show\"/> \r\n        <button @click=\"uploading()\">上传</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport {reactive,toRefs,ref} from 'vue';\r\n\r\nexport default {\r\n name:'upBook',\r\n setup(){\r\n    let upBook = reactive({\r\n    //用于控制显示的 功能项\r\n    Name:'',\r\n    Author:'',\r\n    MiNiJianJie:'',\r\n    JianJie:'',\r\n    Class:'历史',\r\n    bookData:'',\r\n    user:localStorage.getItem('userName'),\r\n    //判断书名是否被使用\r\n    examineBook:false,\r\n    show(event){\r\n      let file= event.target.files[0];\r\n      // 创建读取器\r\n      var reader = new FileReader();\r\n      // 开始读取\r\n      reader.readAsText(file);\r\n      // 文件读取完成后，获取读取的结果\r\n      reader.onload = function() {\r\n        upBook.bookData = reader.result;\r\n      }\r\n    },\r\n    //失去焦点\r\n    blur(){\r\n      axios({\r\n        method:'post',\r\n        url:'http://127.0.0.1:5055/examineBook',\r\n        data:{Name:this.Name}\r\n      }).then(\r\n        value=>{\r\n          //如果可以将 提醒重复隐藏 反之则显示\r\n          if(value.data){\r\n            this.examineBook = false;\r\n          }else{\r\n            this.examineBook = true;\r\n          }\r\n        }\r\n      )\r\n    },\r\n    //储存书籍\r\n    uploading(){\r\n      if(this.examineBook){\r\n       return alert('该书名已经被使用')\r\n      }\r\n      //将书籍储存\r\n      axios({\r\n        method:'post',\r\n        url:'http://127.0.0.1:5055/uploading',\r\n        data:{data:upBook}\r\n      }).then(\r\n        value =>{alert('上传完毕~')}\r\n      )\r\n    }\r\n   })\r\n   return {\r\n    ...toRefs(upBook)\r\n   }\r\n }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\nh1{\r\ntext-align: center;\r\n}\r\n\r\ninput[type=text],textarea{\r\nmargin-top: 15px;\r\nborder: 1px black solid;\r\nfont-size: 16px;\r\n}\r\n\r\nselect{\r\nmargin-top: 15px;\r\n}\r\n#longJian{\r\nmargin-left: 5px;\r\nwidth: 80%;\r\nheight: 100px;\r\n}\r\n\r\n#switchover{\r\nmargin-top: 15px;\r\n}\r\n#switchover>button{\r\nmargin-right:5px\r\n}\r\n/* 书籍是否能被使用 */\r\n#examineBook{\r\n  margin-top:5px;\r\n  margin-left: 100px;\r\n  color: red;\r\n}\r\n</style>","import { render } from \"./upBook.vue?vue&type=template&id=2ac403ec&scoped=true\"\nimport script from \"./upBook.vue?vue&type=script&lang=js\"\nexport * from \"./upBook.vue?vue&type=script&lang=js\"\n\nimport \"./upBook.vue?vue&type=style&index=0&id=2ac403ec&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Vue3\\\\Vue3_xiaoshuo\\\\vue3_test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ac403ec\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"upChapter\" v-if=\"on\">\r\n    <h1>上传章节</h1>\r\n    选择小说:<select v-model=\"bookName\">\r\n        <option v-for=\"book in myBooks\" key=\"book\" @click=\"getBookId(book.Id)\">{{book.Name}}</option>\r\n    </select>\r\n    <br>\r\n    章节名:<input type=\"text\" v-model=\"Chapter\">\r\n    <br>\r\n    <br>\r\n    <p>章节内容</p>\r\n    <textarea id=\"longJian\" v-model=\"bookText\"></textarea>\r\n    <br>\r\n    <br>\r\n    <button @click=\"upChapter()\">上传该章节</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport {reactive,toRefs,ref,inject} from 'vue';\r\nimport {useStore} from 'vuex'\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n name:'upChapter',\r\n setup(){\r\n  let reload = inject('reload')\r\n  //获取初始数据\r\n   axios({\r\n    method:'post',\r\n    url:'http://127.0.0.1:5055/getMyBook',\r\n    data:{user:localStorage.getItem('userName')}\r\n  }).then(\r\n    value =>{\r\n        //拿到id 再次发送 axios请求 拿到id对应的书籍\r\n        upChapter.myBooks =  value.data;\r\n        upChapter.on=true\r\n        axios({\r\n          method:'post',\r\n          url:'http://127.0.0.1:5055/getbooks',\r\n          data:{myBooks:upChapter.myBooks}\r\n        }).then(\r\n          value =>{\r\n            if(value.data[0].Name == 'null' || value.data ==undefined){\r\n              upChapter.bookName = value.data[0].Name;\r\n              return upChapter.myBooks = value.data;\r\n            }\r\n            else{\r\n            upChapter.myBooks = value.data;\r\n            upChapter.bookName = upChapter.myBooks[0].Name;\r\n            upChapter.BookId = upChapter.myBooks[0].Id;\r\n            }\r\n          }\r\n        )\r\n    }\r\n   )\r\n\r\n   let upChapter = reactive({\r\n    //准备数据\r\n    myBooks:[],\r\n    //下拉列表框的初始值\r\n    bookName:'',\r\n    on:false,\r\n    //章节名\r\n    Chapter:'',\r\n    //内容\r\n    bookText:'',\r\n    //当前修改的id\r\n    BookId:'',\r\n    //当用户点击 下拉框时获取id\r\n    getBookId(id){\r\n      this.BookId = id\r\n    },\r\n    //上传章节\r\n    upChapter(){\r\n      //先对判断是否能进行操作\r\n      if(this.bookText == '' ||this.Chapter ==''){\r\n        return alert('内容或章节名不能为空')\r\n      }else if(this.Chapter.search(/^\\d/) != -1){\r\n        return alert('章节名开头不能使用 数字')\r\n      }else if(this.bookName =='null'){return alert('不能给不存在的书添加新章节')}\r\n      axios({\r\n        method:'post',\r\n        url:'http://127.0.0.1:5055/upChapter',\r\n        data:{\r\n          Id:this.BookId,\r\n          Chapter:this.Chapter,\r\n          bookText:this.bookText\r\n        }\r\n      }).then(\r\n        value =>{\r\n          alert(value.data);\r\n          //刷新该页面\r\n          reload();\r\n        }\r\n      )\r\n    }\r\n   })\r\n\r\n    return{\r\n        ...toRefs(upChapter)\r\n    }\r\n }\r\n \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nh1{\r\n  text-align: center;\r\n}\r\n\r\nh3{\r\n margin-top: 15px;\r\n}\r\n\r\ninput[type=text],textarea{\r\nmargin-top: 15px;\r\nborder: 1px black solid;\r\nfont-size: 16px;\r\n}\r\n\r\n#longJian{\r\n margin-left:15px;\r\n padding: 5px;\r\n width: 80%;\r\n height: 200px;\r\n overflow: auto;\r\n}\r\n</style>","import { render } from \"./upChapter.vue?vue&type=template&id=68d25164&scoped=true\"\nimport script from \"./upChapter.vue?vue&type=script&lang=js\"\nexport * from \"./upChapter.vue?vue&type=script&lang=js\"\n\nimport \"./upChapter.vue?vue&type=style&index=0&id=68d25164&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Vue3\\\\Vue3_xiaoshuo\\\\vue3_test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68d25164\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"on\">\r\n    <h1>修改书籍</h1>\r\n    选择小说:<select>\r\n      <option v-for=\"book in myBooks\" key=\"book\" @click=\"amend(book)\">{{book.Name}}</option>\r\n    </select>\r\n  \r\n    <div>\r\n      <div>书籍名:\r\n        <span v-if=\"cutInupt[0]\" v-text=\"Book.Name\"></span> \r\n        <input v-else type=\"text\" v-model=\"Book.Name\"> \r\n        <button v-if=\"cutInupt[0]\" @click=\"cut(0)\">修改</button>\r\n        <button v-else @click=\"cut(0)\">确认</button>\r\n      </div> \r\n      <div>作者:\r\n        <span v-if=\"cutInupt[1]\" v-text=\"Book.Author\"></span>\r\n        <input v-else type=\"text\" v-model=\"Book.Author\">\r\n        <button v-if=\"cutInupt[1]\" @click=\"cut(1)\">修改</button>\r\n        <button v-else @click=\"cut(1)\">确认</button>\r\n      </div>\r\n      \r\n      <div>\r\n        分类:\r\n        <select v-model=\"Book.Class\">\r\n            <option value=\"历史\">历史</option>\r\n            <option value=\"军事\">军事</option>\r\n            <option value=\"科幻\">科幻</option>\r\n            <option value=\"武侠\">武侠</option>\r\n            <option value=\"仙侠\">仙侠</option>\r\n            <option value=\"奇幻\">奇幻</option>\r\n            <option value=\"灵异\">灵异</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        短简介:\r\n        <span v-if=\"cutInupt[2]\" v-text=\"Book.MiNiJianJie\"></span>\r\n        <input v-else type=\"text\" style=\"width: 300px;\" v-model=\"Book.MiNiJianJie\">\r\n        <button v-if=\"cutInupt[2]\" @click=\"cut(2)\">修改</button>\r\n        <button v-else @click=\"cut(2)\">确认</button>\r\n      </div>\r\n\r\n      <div>\r\n        长简介:\r\n        <p id=\"JianJie\" v-if=\"cutInupt[3]\"  v-text=\"Book.JianJie\"></p>\r\n        <textarea v-else style=\"width: 95%;height: 100px;margin:5px; padding:5px\" v-model=\"Book.JianJie\"></textarea>\r\n        <br>\r\n        <button v-if=\"cutInupt[3]\" @click=\"cut(3)\">修改</button>\r\n        <button v-else @click=\"cut(3)\">确认</button>\r\n      </div>\r\n      <button @click=\"deleteBook()\">注销该书</button>\r\n      <button id=\"save\" @click=\"updata()\">保存所有修改并上传</button>\r\n    </div>\r\n  </div>\r\n  <h1 v-else>你没有任何的书籍</h1>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport {reactive,toRefs,ref,onMounted,inject} from 'vue';\r\nimport {useStore} from 'vuex'\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\nname:'Amend',\r\nsetup(){\r\n  let reload = inject('reload')\r\n  //拿到当前用户的 我的书籍\r\n  axios({\r\n    method:'post',\r\n    url:'http://127.0.0.1:5055/getMyBook',\r\n    data:{user:localStorage.getItem('userName')}\r\n  }).then(\r\n    value =>{\r\n        //注这里会有两种情况(此处仅是提醒)\r\n        //1.拿到id 再次发送 axios请求 拿到id对应的书籍\r\n        //2.拿到false 这表示用户的我的书籍为 空   \r\n        //但无论哪种情况 都将数据交给下一个 后端路由进行 处理\r\n        axios({\r\n          method:'post',\r\n          url:'http://127.0.0.1:5055/getbooks',\r\n          data:{myBooks:value.data}\r\n        }).then(\r\n          value =>{\r\n            if(value.data[0].Name == 'null'){\r\n              Amend.bookName = value.data[0].Name;\r\n              return Amend.myBooks = value.data;\r\n            }\r\n            else{\r\n              Amend.bookName= value.data[0].Name\r\n              Amend.myBooks = value.data;\r\n              //先这么写 后面会删掉\r\n              Amend.Book = value.data[0]\r\n          }\r\n          Amend.on = true;\r\n        }\r\n      )\r\n    }\r\n  )\r\n\r\n  let Amend = reactive({\r\n    myBooks:[],\r\n    bookName:'',\r\n    Book:undefined,\r\n    on :false,\r\n    cutInupt:[true,true,true,true,true,true],\r\n    //用于切换用户选择修改的小说\r\n    amend(book){\r\n      this.Book = book;\r\n    },\r\n    //控制 元素是否开启 input 框\r\n    cut(index){\r\n      this.cutInupt[index] = !this.cutInupt[index]\r\n    },\r\n    //向服务器 发送修改数据的请求\r\n    updata(){\r\n     axios({\r\n      method:'post',\r\n      url:'http://127.0.0.1:5055/setBook',\r\n      data:{book:Amend.Book}\r\n     }).then(\r\n      value =>{alert('修改完毕')}\r\n     )\r\n    },\r\n    //删除书籍\r\n    deleteBook(){\r\n      //对用户进行一次提醒\r\n     if(!confirm('警告!\\n删除后无法复原 是否还要删除')) return \r\n     \r\n     axios({\r\n      method:'post',\r\n      url:'http://127.0.0.1:5055/deleteBook',\r\n      data:{Id:this.Book.Id},\r\n     }).then(\r\n      value =>{\r\n        alert('删除完毕')\r\n        //刷新当前页面\r\n        reload()\r\n      }\r\n     )\r\n    } \r\n   })\r\n\r\n  return {\r\n    ...toRefs(Amend),\r\n  }\r\n},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nh1{\r\n  text-align: center;\r\n}\r\n\r\nh3{\r\n margin-top: 15px;\r\n}\r\n\r\ninput[type=text],textarea{\r\nborder: 1px black solid;\r\nfont-size: 16px;\r\n}\r\n\r\n#longJian{\r\n margin-left:15px;\r\n padding: 5px;\r\n width: 80%;\r\n height: 200px;\r\n overflow: auto;\r\n}\r\n\r\nbutton{\r\n  margin-left:10px\r\n}\r\n\r\ndiv{\r\n  margin-top: 15px;\r\n}\r\n\r\n#JianJie{\r\n  border: 1px solid black;\r\n  height: 80px;\r\n  padding: 5px;\r\n  margin:5px;\r\n  overflow:auto;\r\n}\r\n\r\n#save{\r\n  margin-top: 10px;\r\n  background-color: yellow;\r\n}\r\n\r\n</style>","import { render } from \"./amend.vue?vue&type=template&id=4fdfa27f&scoped=true\"\nimport script from \"./amend.vue?vue&type=script&lang=js\"\nexport * from \"./amend.vue?vue&type=script&lang=js\"\n\nimport \"./amend.vue?vue&type=style&index=0&id=4fdfa27f&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Vue3\\\\Vue3_xiaoshuo\\\\vue3_test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fdfa27f\"]])\n\nexport default __exports__","import { render } from \"./myBook.vue?vue&type=template&id=755d9240&scoped=true\"\nimport script from \"./myBook.vue?vue&type=script&lang=js\"\nexport * from \"./myBook.vue?vue&type=script&lang=js\"\n\nimport \"./myBook.vue?vue&type=style&index=0&id=755d9240&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Vue3\\\\Vue3_xiaoshuo\\\\vue3_test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-755d9240\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_createVNode","_component_upBook","$setup","_component_upChapter","_component_amend","_createElementVNode","onClick","_hoisted_9","_hoisted_2","type","_ctx","$event","onBlur","_hoisted_4","_hoisted_7","_hoisted_17","style","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_23","onChange","name","setup","upBook","reactive","Name","Author","MiNiJianJie","JianJie","Class","bookData","user","localStorage","getItem","examineBook","show","event","file","target","files","reader","FileReader","readAsText","onload","result","blur","axios","method","url","data","this","then","value","uploading","alert","toRefs","__exports__","_Fragment","_renderList","book","key","Id","_hoisted_5","_hoisted_8","_hoisted_10","_hoisted_11","reload","inject","upChapter","myBooks","on","undefined","bookName","BookId","Chapter","bookText","getBookId","search","_hoisted_1","_toDisplayString","Amend","Book","cutInupt","amend","cut","index","updata","deleteBook","confirm","components","switchover","ref","render"],"sourceRoot":""}